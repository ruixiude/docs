(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{504:function(t,a,s){"use strict";s.r(a);var e=s(42),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"接入指南"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接入指南"}},[t._v("#")]),t._v(" 接入指南")]),t._v(" "),s("h2",{attrs:{id:"创建应用-获取-appkey"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建应用-获取-appkey"}},[t._v("#")]),t._v(" 创建应用，获取 AppKey")]),t._v(" "),s("p",[t._v("集成【友盟 +】SDK 之前，您首先需要到 【友盟 +】官网 注册并且添加新应用，获得 AppKey。")]),t._v(" "),s("blockquote",[s("p",[t._v("特别提醒：")]),t._v(" "),s("ul",[s("li",[t._v("建议开发者在注册账号时使用企业邮箱，避免使用个人邮箱，防止由于个人离职带来的问题。建议使用的账号形式：umeng@企业域名、apps@企业域名、dev@企业域名。")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img.alicdn.com/tfs/TB1xcSWJYj1gK0jSZFuXXcrHpXa-868-225.jpg",alt:"img"}})]),t._v(" "),s("blockquote",[s("p",[t._v("注意：")]),t._v(" "),s("ul",[s("li",[t._v("应用的安卓版和 iOS 版不能使用相同的 AppKey，需要分开注册。")]),t._v(" "),s("li",[t._v("【友盟 +】的应用名与实际应用名和包名无关，若注册应用时，提示应用名称已存在，建议命名为应用名 + 平台（iOS/Android)。\n流程示意图")])])]),t._v(" "),s("h2",{attrs:{id:"集成-sdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集成-sdk"}},[t._v("#")]),t._v(" 集成 SDK")]),t._v(" "),s("h3",{attrs:{id:"流程示意图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#流程示意图"}},[t._v("#")]),t._v(" 流程示意图")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://docs-aliyun.cn-hangzhou.oss.aliyun-inc.com/assets/pic/118578/UMDP_zh/1558336569970/sdk%E9%9B%86%E6%88%90%E6%B5%81%E7%A8%8B%E5%9B%BEv1.3.png",alt:"img"}})]),t._v(" "),s("h2",{attrs:{id:"使用-sdk-功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-sdk-功能"}},[t._v("#")]),t._v(" 使用 SDK 功能")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img.alicdn.com/tfs/TB1X4FSmRFR4u4jSZFPXXanzFXa-528-442.jpg",alt:"img"}})]),t._v(" "),s("p",[t._v("完成 SDK 集成后即可在 "),s("a",{attrs:{href:"https://mobile.umeng.com/platform/apps/list?spm=a213m0.13953508.9348417015.1.28964a87E5ejNS&acm=lb-zebra-611823-7832632.1003.4.7299091&scm=1003.4.lb-zebra-611823-7832632.OTHER_15797141253121_7299091",target:"_blank",rel:"noopener noreferrer"}},[t._v("U-App 产品后台"),s("OutboundLink")],1),t._v("中查看相关数据。")]),t._v(" "),s("h2",{attrs:{id:"进行集成测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进行集成测试"}},[t._v("#")]),t._v(" 进行集成测试")]),t._v(" "),s("p",[t._v("具体操作可点击"),s("a",{attrs:{href:"https://developer.umeng.com/docs/119267/detail/118639",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"相关知识"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相关知识"}},[t._v("#")]),t._v(" 相关知识")]),t._v(" "),s("h3",{attrs:{id:"发送策略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发送策略"}},[t._v("#")]),t._v(" 发送策略")]),t._v(" "),s("h4",{attrs:{id:"设置发送策略说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置发送策略说明"}},[t._v("#")]),t._v(" 设置发送策略说明")]),t._v(" "),s("p",[t._v("发送策略设定了用户产生的数据发送回【友盟+】服务器的频率。Android平台的数据发送策略有两种方式：")]),t._v(" "),s("ul",[s("li",[t._v("启动时发送：新增、活跃、启动次数等数据在APP本次打开时即刻发送，使用时长、自定义事件、错误统计等在使用过程中产生的所有消息数据都在下次启动应用时发送。如果应用程序启动时处在不联网状态，那么消息将会缓存在本地，下次再尝试发送。")]),t._v(" "),s("li",[t._v("按间隔发送：按特定间隔发送数据，间隔时长介于90秒与24小时之间。新增、活跃、启动次数等数据在APP本次打开时即刻发送，使用时长、自定义事件、错误统计等在使用过程中产生的所有数据都按间隔发送，如果应用程序启动时处在不联网状态，那么消息将会缓存在本地，下次再尝试发送。")])]),t._v(" "),s("h4",{attrs:{id:"发送策略设置方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发送策略设置方法"}},[t._v("#")]),t._v(" 发送策略设置方法")]),t._v(" "),s("p",[t._v("进入后台选择“应用”->设置->发送策略 页面自定义发送间隔。具体如下图:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img.alicdn.com/tfs/TB1BLhTKoY1gK0jSZFCXXcwqXXa-1197-472.jpg",alt:"analytics1"}})]),t._v(" "),s("blockquote",[s("p",[t._v("*"),s("strong",[t._v("注意：*")])]),t._v(" "),s("ul",[s("li",[t._v("在没有获取到在线配置时，默认使用启动时发送的策略；")]),t._v(" "),s("li",[t._v("在打开debug调试模式或者使用集成测试时，不受发送策略控制。")])])]),t._v(" "),s("h3",{attrs:{id:"session定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#session定义"}},[t._v("#")]),t._v(" Session定义")]),t._v(" "),s("p",[t._v("在每个Activity的开始和结束时分别调用onResume和onPause方法。")]),t._v(" "),s("p",[t._v("当一个onResume方法与上一个Activity的onPause方法相差30秒，标志新Session的开始；当一个onPause方法发生后30秒内没有再触发任何一个Activity的onResume方法，标志该Session结束。如果应用Crash，Android平台处理成onPause, 照例通过30秒规则来判断是否是Session的终止。")]),t._v(" "),s("p",[t._v("即Android平台一次完整的启动包括如下三种情况：")]),t._v(" "),s("ul",[s("li",[t._v("从启动应用到关闭应用。")]),t._v(" "),s("li",[t._v("从启动应用到应用退至后台，且在后台运行时间超过30s。")]),t._v(" "),s("li",[t._v("启动应用后设备黑屏，黑屏时间超过30秒。")])]),t._v(" "),s("p",[t._v("符合以上三种情况的前提下，Android启动次数+1。")]),t._v(" "),s("p",[t._v("当用户两次使用App之间间隔超过不超过30秒时，启动次数不会增加。SDK会将30秒内的连续两次进入应用看成一次完整的使用过程，两部分的使用时长会叠加计算。")]),t._v(" "),s("p",[t._v("例如：用户在App中按下系统Home键切到系统桌面，30秒内再切换回到App中，或进入其他程序(例如使用App中接听电话)，经过一段时间(小于30秒)再返回之前的应用。都会当作一次启动过程计算，使用时长会连续叠加计算。")]),t._v(" "),s("p",[t._v("判断是否为新Session产生的时间间隔默认值为30秒，可以通过以下接口来自定义此Session间隔时间：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("代码:\n复制代码到剪切板// interval 单位为毫秒，如果想设定为40秒，interval应为 40*1000.MobclickAgent.setSessionContinueMillis(long interval);\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("table",[s("thead",[s("tr",[s("th",[t._v("参数")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("interval")]),t._v(" "),s("td",[t._v("单位为毫秒，如果想设定为40秒，interval应为 40*1000。interval最小有效值为30秒。")])])])]),t._v(" "),s("h2",{attrs:{id:"常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),s("p",[t._v("更多集成问题可点我进入"),s("a",{attrs:{href:"https://developer.umeng.com/docs/119267/cate/119530",target:"_blank",rel:"noopener noreferrer"}},[t._v("常见问题"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);