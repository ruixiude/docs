(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{496:function(a,s,e){"use strict";e.r(s);var n=e(42),t=Object(n.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"proguard"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#proguard"}},[a._v("#")]),a._v(" ProGuard")]),a._v(" "),e("p",[a._v("To use ProGuard with Sentry, upload the ProGuard mapping files by using our Gradle integration ("),e("strong",[a._v("recommended")]),a._v(") or manually by using "),e("a",{attrs:{href:"https://docs.sentry.io/product/cli/dif/#proguard-mapping-upload",target:"_blank",rel:"noopener noreferrer"}},[a._v("sentry-cli"),e("OutboundLink")],1),a._v(".")]),a._v(" "),e("h2",{attrs:{id:"gradle"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gradle"}},[a._v("#")]),a._v(" Gradle")]),a._v(" "),e("p",[a._v("Using Gradle (Android Studio) in your "),e("code",[a._v("app/build.gradle")]),a._v(" add:")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("app/build.gradle\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language-groovy line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-groovy"}},[e("code",[a._v("apply plugin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'io.sentry.android.gradle'")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("And declare a dependency in your top-level "),e("code",[a._v("build.gradle")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("build.gradle\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language-groovy line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-groovy"}},[e("code",[a._v("buildscript "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    repositories "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mavenCentral")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n    dependencies "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// https://github.com/getsentry/sentry-android-gradle-plugin/releases")]),a._v("\n        classpath "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'io.sentry:sentry-android-gradle-plugin:1.7.36'")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br")])]),e("p",[a._v("The plugin will automatically generate appropriate ProGuard mapping files and upload them when you run "),e("code",[a._v("gradle assemble{BuildVariant}")]),a._v(". For example, "),e("code",[a._v("assembleRelease")]),a._v(" â€” Release is the default, but the plugin works for others if you have enabled ProGuard/R8. The credentials for the upload step are loaded via environment variables or from a "),e("code",[a._v("sentry.properties")]),a._v(" file in your project root.")]),a._v(" "),e("p",[a._v("For more information, see the "),e("a",{attrs:{href:"https://docs.sentry.io/product/cli/configuration/#configuration-values",target:"_blank",rel:"noopener noreferrer"}},[a._v("full sentry-cli documentation"),e("OutboundLink")],1),a._v(".")]),a._v(" "),e("p",[a._v("At the very minimum you will need something like this:")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("defaults.project"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("your-project\ndefaults.org"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("your-org\nauth.token"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("YOUR_AUTH_TOKEN\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("p",[a._v("You can find your authentication token "),e("a",{attrs:{href:"https://sentry.io/api/",target:"_blank",rel:"noopener noreferrer"}},[a._v("on the Sentry API page"),e("OutboundLink")],1),a._v(". For more information about the available configuration options, see the "),e("a",{attrs:{href:"https://docs.sentry.io/product/cli/configuration/#configuration-values",target:"_blank",rel:"noopener noreferrer"}},[a._v("full sentry-cli documentation"),e("OutboundLink")],1),a._v(".")]),a._v(" "),e("h3",{attrs:{id:"gradle-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gradle-configuration"}},[a._v("#")]),a._v(" Gradle Configuration")]),a._v(" "),e("p",[a._v("Additionally, we expose a few configuration values directly in Gradle:")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("app/build.gradle\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language-groovy line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-groovy"}},[e("code",[a._v("sentry "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Disables or enables the automatic configuration of ProGuard")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// for Sentry.  This injects a default config for ProGuard so")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// you don't need to do it manually.")]),a._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Only enable it if you are using sentry-android <= v1.7,")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// sentry-android >= v2.0 already does it automatically.")]),a._v("\n    autoProguardConfig "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),a._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Enables or disables the automatic upload of mapping files")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// during a build.  If you disable this, you'll need to manually")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// upload the mapping files with sentry-cli when you do a release.")]),a._v("\n    autoUpload "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Disables or enables the automatic configuration of Native Symbols")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// for Sentry. This executes sentry-cli automatically so")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// you don't need to do it manually.")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Default is disabled.")]),a._v("\n    uploadNativeSymbols "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),a._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Does or doesn't include the source code of native code for Sentry.")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// This executes sentry-cli with the --include-sources param. automatically so")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// you don't need to do it manually.")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Default is disabled.")]),a._v("\n    includeNativeSources "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br"),e("span",{staticClass:"line-number"},[a._v("22")]),e("br"),e("span",{staticClass:"line-number"},[a._v("23")]),e("br"),e("span",{staticClass:"line-number"},[a._v("24")]),e("br"),e("span",{staticClass:"line-number"},[a._v("25")]),e("br"),e("span",{staticClass:"line-number"},[a._v("26")]),e("br")])]),e("p",[a._v("And that's it! Now when you build your app, the plugin will upload the ProGuard/R8 mappings, source bundle, and native symbols, as you configured them to Sentry.")])])}),[],!1,null,null,null);s.default=t.exports}}]);