(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{429:function(a,s,e){"use strict";e.r(s);var t=e(42),i=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"android-oaid-接入"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#android-oaid-接入"}},[a._v("#")]),a._v(" Android OAID 接入")]),a._v(" "),e("h2",{attrs:{id:"oaid-简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#oaid-简介"}},[a._v("#")]),a._v(" OAID 简介")]),a._v(" "),e("p",[a._v("因传统的移动终端设备标识如国际移动设备识别码（IMEI）等已被部分国家认定为用户隐私的一部分，并存在被篡改和冒用的风险，所以在Android 10及后续版本中非厂商系统应用将无法获取IMEI、MAC等设备信息。无法获取IMEI会在用户行为统计过程中对设备识别产生一定影响。")]),a._v(" "),e("p",[a._v("近日移动安全联盟针对该问题联合国内手机厂商推出补充设备标准体系方案，选择OAID字段作为IMEI等的替代字段。OAID字段是由中国信通院联合华为、小米、OPPO、VIVO等厂商共同推出的设备识别字段，具有一定的权威性，可满足用户行为统计的使用场景。")]),a._v(" "),e("p",[a._v("更多OAID相关信息请参考"),e("a",{attrs:{href:"http://www.msa-alliance.cn/col.jsp?id=120",target:"_blank",rel:"noopener noreferrer"}},[a._v("移动安全联盟官网"),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"oaid-sdk-集成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#oaid-sdk-集成"}},[a._v("#")]),a._v(" OAID SDK 集成")]),a._v(" "),e("p",[a._v("App 端请参照"),e("a",{attrs:{href:"http://www.msa-alliance.cn/col.jsp?id=120",target:"_blank",rel:"noopener noreferrer"}},[a._v("移动安全联盟集成文档"),e("OutboundLink")],1),a._v("进行OAID SDK集成，并且将百度移动统计Android SDK升级到至少3.9.8.3版本。")]),a._v(" "),e("h3",{attrs:{id:"android-项目中集成oaid-sdk步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#android-项目中集成oaid-sdk步骤"}},[a._v("#")]),a._v(" Android 项目中集成OAID SDK步骤")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("把miit_mdid_x.x.x.aar 拷贝到项目的libs目录下，并设置依赖，其中x.x.x代表版本号。（注意，要及时关注移动联盟更新文档，保持版本及时更新）")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://analytics-public.cdn.bcebos.com/image/2e616mxfftj1580967388033@2x.png",alt:"img"}})])]),a._v(" "),e("li",[e("p",[a._v("将supplierconfig.json拷贝到项目assets目录下")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://analytics-public.cdn.bcebos.com/image/k4slxh865p1580967391853@2x.png",alt:"img"}})])]),a._v(" "),e("li",[e("p",[a._v("在项目App Module下build.gradle文件中配置依赖")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v(" dependencies {\n     implementation fileTree(dir: 'libs', include: ['*.jar'])\n     implementation files('libs/miit_mdid_1.0.10.aar')\n }\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("混淆设置")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v(" -keep class com.bun.miitmdid.core.** {*;}\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("设置gradle编译选项，这块可以根据自己对平台的选择进行合理配置")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v(" android {\n compileSdkVersion 28\n defaultConfig {\n     ndk {\n         abiFilters 'armeabi-v7a','x86','arm64-v8a','x86_64','armeabi'\n     }\n     packagingOptions {\n     doNotStrip \"*/armeabi-v7a/*.so\"\n     doNotStrip \"*/x86/*.so\"\n     doNotStrip \"*/arm64-v8a/*.so\"\n     doNotStrip \"*/x86_64/*.so\"\n     doNotStrip \"armeabi.so\"\n     }\n }\n }\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("初始化代码，由于安卓9以后类加载的限制，MdidSdk.InitSdk和JLibrary.InitEntry()不能在一个类里调用，还要注意包含这两个调用的类不能有依赖关系 （此为官方推荐调用方式）")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("在应用的application的onCreate中方法调用方法")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("  JLibrary.InitEntry(this);\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("在另一个类里调用")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("  MdidSdkHelper.InitSdk(this, true, new IIdentifierListener() {\n      @Override\n      public void OnSupport(boolean b, IdSupplier idSupplier) {\n          if (idSupplier != null && idSupplier.isSupported())\n              StatService.setOaid(context, idSupplier.getOAID());\n      }\n  });\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])])])])])]),a._v(" "),e("p",[a._v("说明：")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("接口")]),a._v(" "),e("th",[a._v("说明")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("idSupplier.isSupported()")]),a._v(" "),e("td",[a._v("是否支持补充设备标 识符获取 ,true 为支持，false 为不支持")])]),a._v(" "),e("tr",[e("td",[a._v("idSupplier.getOAID()")]),a._v(" "),e("td",[a._v("获取OAID")])]),a._v(" "),e("tr",[e("td",[a._v("StatService.setOaid(this,idSupplier.getOAID())")]),a._v(" "),e("td",[a._v("设置OAID")])])])])])}),[],!1,null,null,null);s.default=i.exports}}]);