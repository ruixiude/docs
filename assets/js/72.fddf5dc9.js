(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{431:function(s,a,n){"use strict";n.r(a);var e=n(42),i=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"gradle集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gradle集成"}},[s._v("#")]),s._v(" Gradle集成")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("此文档描述"),n("code",[s._v("手动埋点SDK")]),s._v(" gradle配置方式，如果您使用的是"),n("code",[s._v("无埋点SDK")]),s._v("版本，请参考"),n("a",{attrs:{href:"https://mtj.baidu.com/static/userguide/book/android/adconfig/circle/circle.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("可视化埋点"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[s._v("配置方法\n1）配置build.gradle\nproject build.gradle，android studio项目默认已经配置好：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(" allprojects {\n     repositories {\n         jcenter()\n     }\n }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("module build.gradle，需要添加如下配置：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(" dependencies {\n     compile 'com.baidu.mobstat:mtj-sdk:latest.integration'\n }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("2）编译工程")]),s._v(" "),n("p",[s._v("Android studio IDE上，Build -> Make project，具体:")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://mtj.baidu.com/static/userguide/book/android/sdk/images/android_studio_compile.png",alt:"Android  Studio编译"}})]),s._v(" "),n("p",[s._v("会请求网络，下载最新版本的mtj 标准版 sdk JAR。Build 完成后，可以看到如下，配置OK")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://mtj.baidu.com/static/userguide/book/android/sdk/images/android_studio_externallib.png",alt:"Android Studio库依赖"}})])]),s._v(" "),n("li",[n("p",[s._v("配置AndroidManifest.xml")]),s._v(" "),n("p",[s._v("1）添加权限声明")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(' <uses-permission android:name="android.permission.INTERNET" />\n <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />\n <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />\n <uses-permission android:name="android.permission.READ_PHONE_STATE" />\n <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />\n <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />\n <uses-permission android:name="android.permission.BLUETOOTH" />\n <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />\n <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />\n <uses-permission android:name="android.permission.WRITE_SETTINGS" />\n <uses-permission android:name="android.permission.GET_TASKS" />\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("2）添加业务配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(' \x3c!-- 您从百度网站获取的APP KEY，根据实际您的APP申请的APP_KEY进行修改 --\x3e\n <meta-data\n     android:name="BaiduMobAd_STAT_ID"\n     android:value="a9e2ad84a2" /> \n\n \x3c!-- 渠道商编号 --\x3e\n <meta-data\n     android:name="BaiduMobAd_CHANNEL"\n     android:value="Baidu Market" />\n\n \x3c!-- 是否开启错误日志统计，默认为false --\x3e\n <meta-data\n     android:name="BaiduMobAd_EXCEPTION_LOG"\n     android:value="true" />\n\n \x3c!-- 日志仅在wifi网络下发送，默认为false --\x3e\n <meta-data\n     android:name="BaiduMobAd_ONLY_WIFI"\n     android:value="false" />\n\n \x3c!-- 是否获取基站位置信息 ,默认为true --\x3e\n <meta-data\n     android:name="BaiduMobAd_CELL_LOCATION"\n     android:value="true" />\n\n \x3c!-- 是否获取GPS位置信息，默认为true --\x3e\n <meta-data\n     android:name="BaiduMobAd_GPS_LOCATION"\n     android:value="true" />\n\n \x3c!-- 是否获取WIFI位置信息，默认为true --\x3e\n <meta-data\n     android:name="BaiduMobAd_WIFI_LOCATION"\n     android:value="true" />\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("Java代码配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(" // 通过该接口可以控制敏感数据采集，true表示可以采集，false表示不可以采集，\n // 该方法一定要最优先调用，请在StatService.start(this)之前调用，采集这些数据可以帮助App运营人员更好的监控App的使用情况，\n // 建议有用户隐私策略弹窗的App，用户未同意前设置false,同意之后设置true\n StatService.setAuthorizedState(Context context,boolean false)\n\n // setSendLogStrategy已经@deprecated，建议使用新的start接口\n // 如果没有页面和自定义事件统计埋点，此代码一定要设置，否则无法完成统计\n // 进程第一次执行此代码，会导致发送上次缓存的统计数据；若无上次缓存数据，则发送空启动日志\n // 由于多进程等可能造成Application多次执行，建议此代码不要埋点在Application中，否则可能造成启动次数偏高\n // 建议此代码埋点在统计路径触发的第一个页面中，若可能存在多个则建议都埋点\n StatService.start(this);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("编译项目并启动运行，5分钟左右后即可在"),n("a",{attrs:{href:"https://mtj.baidu.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("百度移动统计网站"),n("OutboundLink")],1),s._v("上看到对应的启动数据！")])])])])}),[],!1,null,null,null);a.default=i.exports}}]);