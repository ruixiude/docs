(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{446:function(e,t,s){"use strict";s.r(t);var a=s(42),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"entity-annotations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#entity-annotations"}},[e._v("#")]),e._v(" Entity Annotations")]),e._v(" "),s("p",[e._v("ObjectBox database persistence for Java is based on objects for object-oriented programming instead of SQL. Learn how to persist entities with entity annotations in this tutorial section.")]),e._v(" "),s("h2",{attrs:{id:"objectbox-database-persistence-with-entity-annotations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#objectbox-database-persistence-with-entity-annotations"}},[e._v("#")]),e._v(" ObjectBox - Database Persistence with Entity Annotations")]),e._v(" "),s("p",[e._v("ObjectBox is a database that persists objects. For a clear distinction, we sometimes call those persistable objects "),s("strong",[e._v("entities")]),e._v(".")]),e._v(" "),s("p",[e._v("To let ObjectBox know which classes are entities you annotate them with "),s("code",[e._v("@Entity")]),e._v(", for example:")]),e._v(" "),s("tabs",[s("tab",{attrs:{name:"Java"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("@Entity\npublic class User {\n    \n    @Id\n    private long id;\n    \n    private String name;\n    \n    // Not persisted:\n    @Transient\n    private int tempUsageCount;\n    \n   // TODO: getters and setters.\n}\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br")])])]),e._v(" "),s("tab",{attrs:{name:"Kotlin"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("@Entity\ndata class User(\n        @Id var id: Long = 0,\n        var name: String? = null,\n        // Not persisted:\n        @Transient var tempUsageCount: Int = 0\n)\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])])])],1),e._v(" "),s("p",[e._v("The "),s("code",[e._v("@Entity")]),e._v(" annotation identifies the class User as a persistable entity. This will trigger ObjectBox to generate persistence code tailored for this class.")]),e._v(" "),s("blockquote",[s("p",[e._v("Note:")]),e._v(" "),s("ul",[s("li",[e._v("It’s often good practice to model entities as "),s("strong",[e._v("“dumb” data classes (POJOs)")]),e._v(" with just properties.")]),e._v(" "),s("li",[s("strong",[e._v("Entities must have a no-args constructor")]),e._v(", or for better performance a constructor with all properties as arguments. In the above example, a default, no-args constructor is generated by the compiler.")])]),e._v(" "),s("p",[e._v("For Kotlin data classes this can be achieved by "),s("strong",[e._v("adding default values for all parameters")]),e._v(". (Technically this is only required if adding properties to the class body, like custom or transient properties or relations, but it's a good idea to do it always.)")])]),e._v(" "),s("h2",{attrs:{id:"object-ids-id"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#object-ids-id"}},[e._v("#")]),e._v(" Object IDs: @Id")]),e._v(" "),s("p",[e._v("In ObjectBox, "),s("strong",[e._v("entities must have one @Id property of type long")]),e._v(" (or Long in Kotlin) with "),s("strong",[e._v("not-private visibility")]),e._v(" (or not-private getter and setter method) to efficiently get or reference objects. You can use the nullable type "),s("code",[e._v("java.lang.Long")]),e._v(", but we do not recommend it.")]),e._v(" "),s("tabs",[s("tab",{attrs:{name:"Java"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("@Entity\npublic class User {\n    \n    @Id public long id;\n    \n    ...\n}\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])])]),e._v(" "),s("tab",{attrs:{name:"Kotlin"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("@Entity\ndata class User(\n        @Id var id: Long = 0,\n        ...\n)\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])])])],1),e._v(" "),s("p",[e._v("If you "),s("strong",[e._v("need to use another type for IDs")]),e._v(" (such as a string UID given by a server), model them as regular properties and use "),s("a",{attrs:{href:"https://docs.objectbox.io/queries",target:"_blank",rel:"noopener noreferrer"}},[e._v("queries"),s("OutboundLink")],1),e._v(" to look up objects by your application specific ID. Also make sure to index the property, and if it's a string use a case-sensitive condition, to speed up look-ups. To prevent duplicates it is also possible to enforce a "),s("a",{attrs:{href:"https://docs.objectbox.io/entity-annotations#unique-constraints",target:"_blank",rel:"noopener noreferrer"}},[e._v("unique"),s("OutboundLink")],1),e._v(" value for this secondary ID.")]),e._v(" "),s("tabs",[s("tab",{attrs:{name:"Java"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("@Entity\nclass StringIdEntity {\n    @Id public long id;\n    @Index public String uid;\n    // Alternatively:\n    // @Unique String uid;\n}\n\nStringIdEntity entity = box.query()\n    .equal(StringIdEntity_.uid, uid, StringOrder.CASE_SENSITIVE)\n    .build().findUnique()\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br")])])]),e._v(" "),s("tab",{attrs:{name:"Kotlin"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("@Entity\ndata class StringIdEntity(\n        @Id var id: Long = 0,\n        @Index var uid: String? = null\n        // Alternatively:\n        // @Unique uid: String? = null\n)\n\nval entity = box.query()\n        .equal(StringIdEntity_.uid, uid, StringOrder.CASE_SENSITIVE)\n        .build().findUnique()\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br")])])])],1),e._v(" "),s("p",[e._v("ID properties are unique and indexed by default.")]),e._v(" "),s("p",[e._v("When you put a new object you do not assign an ID. By default "),s("strong",[e._v("IDs for new objects are assigned by ObjectBox")]),e._v(". See the page on "),s("a",{attrs:{href:"https://docs.objectbox.io/advanced/object-ids",target:"_blank",rel:"noopener noreferrer"}},[e._v("Object IDs"),s("OutboundLink")],1),e._v(" for details.")]),e._v(" "),s("blockquote",[s("p",[e._v("If you need to assign IDs by yourself have a look at how to switch to self-assigned IDs and what side-effects apply.")])]),e._v(" "),s("h2",{attrs:{id:"make-entity-data-accessible"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#make-entity-data-accessible"}},[e._v("#")]),e._v(" Make entity data accessible")]),e._v(" "),s("p",[e._v("ObjectBox needs to access the data of your entity’s properties (e.g. in generated Cursor classes). You have two options:")]),e._v(" "),s("ol",[s("li",[e._v("Give your property fields at least “package private” (not “private”) visibility. In Kotlin, you can use "),s("code",[e._v("@JvmField")]),e._v(".")]),e._v(" "),s("li",[e._v("Provide standard getters (your IDE can generate them easily).")])]),e._v(" "),s("p",[e._v("To improve performance when ObjectBox constructs your entities, you might also want to provide an all-properties constructor (for Kotlin data classes, make sure all properties have a default value instead). For example:")]),e._v(" "),s("tabs",[s("tab",{attrs:{name:"Java"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("@Entity\npublic class User {\n    \n    @Id private long id;\n    \n    private String name;\n    \n    // Not persisted:\n    @Transient private int tempUsageCount;\n    \n    public User() { /* Default constructor */ }\n    \n    public User(id, name) {\n        this.id = id;\n        this.name = name;\n    }\n    \n   // Getters and setters for properties...\n}\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br")])])]),e._v(" "),s("tab",{attrs:{name:"Kotlin"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("// Ensure all properties have default values:\n@Entity\ndata class User(\n        @Id var id: Long = 0,\n        var name: String? = null,\n        // Not persisted:\n        @Transient var tempUsageCount: Int = 0\n)\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br")])])])],1),e._v(" "),s("h2",{attrs:{id:"basic-annotations-for-entity-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#basic-annotations-for-entity-properties"}},[e._v("#")]),e._v(" Basic annotations for entity properties")]),e._v(" "),s("tabs",[s("tab",{attrs:{name:"Java"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('...\n@NameInDb("username")\nprivate String name;\n\n@Transient\nprivate int tempUsageCount;\n...\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])])]),e._v(" "),s("tab",{attrs:{name:"Kotlin"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('...\n@NameInDb("username")\nvar name: String? = null,\n\n@Transient\nvar tempUsageCount: Int = 0,\n...\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])])])],1),e._v(" "),s("p",[s("strong",[s("code",[e._v("@NameInDb")])]),e._v(" lets you define a name on the database level for a property. This allows you to rename the field (or property in Kotlin) without affecting the property name on the database level.")]),e._v(" "),s("blockquote",[s("p",[e._v("Note:")]),e._v(" "),s("ul",[s("li",[e._v("To rename properties and even entities you should "),s("a",{attrs:{href:"https://docs.objectbox.io/advanced/data-model-updates",target:"_blank",rel:"noopener noreferrer"}},[e._v("use @Uid annotations"),s("OutboundLink")],1),e._v(" instead.")]),e._v(" "),s("li",[e._v("@NameInDb only works with inline constants to specify a column name.")])])]),e._v(" "),s("p",[s("strong",[s("code",[e._v("@Transient")])]),e._v(" (or alternatively the "),s("code",[e._v("transient")]),e._v(" modifier) marks properties that should not be persisted, like the temporary counter above. "),s("code",[e._v("static")]),e._v(" properties will also not be persisted.")]),e._v(" "),s("h2",{attrs:{id:"property-indexes-with-index"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#property-indexes-with-index"}},[e._v("#")]),e._v(" Property Indexes with @Index")]),e._v(" "),s("p",[e._v("Annotate a property with "),s("strong",[s("code",[e._v("@Index")])]),e._v(" to create a database index for the corresponding database column. This can improve performance when querying for that property.")]),e._v(" "),s("tabs",[s("tab",{attrs:{name:"Java"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("...\n@Index\nprivate String name;\n...\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])])]),e._v(" "),s("tab",{attrs:{name:"Kotlin"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("...\n@Index\nvar name: String? = null,\n...\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])])])],1),e._v(" "),s("blockquote",[s("p",[e._v("@Index is currently not supported for "),s("code",[e._v("byte[]")]),e._v(", "),s("code",[e._v("float")]),e._v("  and "),s("code",[e._v("double")]),e._v(" in Java or the equivalent "),s("code",[e._v("ByteArray")]),e._v(" , "),s("code",[e._v("Float")]),e._v(" and "),s("code",[e._v("Double")]),e._v(" in Kotlin.")])]),e._v(" "),s("p",[e._v("An index stores additional information in the database to make look-ups faster. As an analogy we could look at Java-like programming languages where you store objects in a list. For example you could store persons using a "),s("code",[e._v("List<Person>")]),e._v(".  Now, you want to search for all persons with a specific name so you would iterate through the list and check for the name property of each object. This is an O(N) operation and thus does don't scale well with an increasing number of objects. To make this more scalable you can introduce a second data structure "),s("code",[e._v("Map<String, Person>")]),e._v(" with the name as a key. This will give you a constant lookup time (O(1)). The downside of this is that it needs more resources (here: RAM) and slows down add/remove operations on the list a bit. These principles can be transferred to database indexes, just that the primary resource consumed is disk space.")]),e._v(" "),s("h3",{attrs:{id:"index-types-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#index-types-string"}},[e._v("#")]),e._v(" Index types (String)")]),e._v(" "),s("blockquote",[s("p",[e._v("Since 2.0.0")])]),e._v(" "),s("p",[e._v("ObjectBox 2.0 introduced index types. Before, every index used the property "),s("strong",[e._v("value")]),e._v(" for all look-ups. Now, ObjectBox can also use a "),s("strong",[e._v("hash")]),e._v(" to build an index. Because "),s("code",[e._v("String")]),e._v(" properties are typically taking more space than scalar values, ObjectBox switched the default index type to hash for strings.")]),e._v(" "),s("p",[e._v("You can instruct ObjectBox to use a value-based index for a "),s("code",[e._v("String")]),e._v(" property by specifying the "),s("code",[e._v("index")]),e._v(" type:")]),e._v(" "),s("tabs",[s("tab",{attrs:{name:"Java"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("...\n@Index(type = IndexType.VALUE)\nprivate String name;\n...\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])])]),e._v(" "),s("tab",{attrs:{name:"Kotlin"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("...\n@Index(type = IndexType.VALUE)\nvar name: String? = null,\n...\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])])])],1),e._v(" "),s("p",[e._v("Keep in mind that for "),s("code",[e._v("String")]),e._v(", depending on the length of your values, a value-based index may require more storage space than the default hash-based index.")]),e._v(" "),s("p",[e._v("ObjectBox supports these index types:")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Not specified or DEFAULT")]),e._v(" Uses best index based on property type (HASH for "),s("code",[e._v("String")]),e._v(", VALUE for others).")]),e._v(" "),s("li",[s("strong",[e._v("VALUE")]),e._v(" Uses property values to build index. For "),s("code",[e._v("String")]),e._v(", this may require more storage than a hash-based index.")]),e._v(" "),s("li",[s("strong",[e._v("HASH")]),e._v(" Uses 32-bit hash of property values to build index. Occasional collisions may occur which should not have any performance impact in practice. Usually a better choice than HASH64, as it requires less storage.")]),e._v(" "),s("li",[s("strong",[e._v("HASH64")]),e._v(" Uses long hash of property values to build the index. Requires more storage than HASH and thus should not be the first choice in most cases.")])]),e._v(" "),s("blockquote",[s("p",[s("strong",[e._v("When migrating data from pre-2.0 ObjectBox versions")]),e._v(', the default index type for strings has changed from value to hash. With a plain @Index annotation this will update the indexes automatically: the old value-based indexes will be deleted and the new hash-bashed indexes will be build. A side effect of this is that the database file might grow in the process. If you want to prevent this, you stick to the "old" index type using @Index(type = IndexType.VALUE).')])]),e._v(" "),s("blockquote",[s("p",[s("strong",[e._v("Limits of hash-based indexes")]),e._v(': Hashes work great for equality checks, but not for "'),s("strong",[e._v("starts with")]),e._v('" type conditions. If you frequently use those, you should use value-based indexes instead.')])]),e._v(" "),s("h2",{attrs:{id:"unique-constraints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unique-constraints"}},[e._v("#")]),e._v(" Unique constraints")]),e._v(" "),s("blockquote",[s("p",[e._v("Since 2.0.0")])]),e._v(" "),s("p",[e._v("Annotate a property with "),s("strong",[s("code",[e._v("@Unique")])]),e._v(" to enforce that values are unique before an entity is put:")]),e._v(" "),s("tabs",[s("tab",{attrs:{name:"Java"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("...\n@Unique\nprivate String name;\n...\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])])]),e._v(" "),s("tab",{attrs:{name:"Kotlin"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("...\n@Unique\nvar name: String? = null,\n...\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])])])],1),e._v(" "),s("p",[e._v("A "),s("code",[e._v("put()")]),e._v(" operation will abort and throw a "),s("code",[e._v("UniqueViolationException")]),e._v(" if the unique constraint is violated:")]),e._v(" "),s("tabs",[s("tab",{attrs:{name:"Java"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('try {\n    box.put(new User("Sam Flynn"));\n} catch (UniqueViolationException e) {\n    // A User with that name already exists.\n}\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])])]),e._v(" "),s("tab",{attrs:{name:"Kotlin"}},[s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('try {\n    box.put(User("Sam Flynn))\n} catch (e: UniqueViolationException) {\n    // A User with that name already exists.\n}\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])])])],1),e._v(" "),s("blockquote",[s("p",[e._v("Unique constraints are based on an index. You can further configure the index by adding an "),s("strong",[e._v("@Index")]),e._v(" annotation.")])]),e._v(" "),s("h2",{attrs:{id:"relations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#relations"}},[e._v("#")]),e._v(" Relations")]),e._v(" "),s("p",[e._v("Creating to-one and to-many relations between objects is possible as well, see the Relations documentation for details.")]),e._v(" "),s("h2",{attrs:{id:"triggering-generation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#triggering-generation"}},[e._v("#")]),e._v(" Triggering generation")]),e._v(" "),s("p",[e._v("Once your entity schema is in place, you can trigger the code generation process by compiling your project. For example using "),s("strong",[e._v("Build > Make project")]),e._v(" in Android Studio.")]),e._v(" "),s("blockquote",[s("p",[e._v("If you encounter errors after changing your entity classes, try to rebuild (clean, then build) your project to make sure old generated classes are cleaned.")])])],1)}),[],!1,null,null,null);t.default=n.exports}}]);