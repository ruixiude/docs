(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{433:function(a,s,t){"use strict";t.r(s);var e=t(42),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"基础api配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础api配置"}},[a._v("#")]),a._v(" 基础API配置")]),a._v(" "),t("p",[a._v("SDK提供相关API，用于支持个性化设置，如渠道，crash收集，调试支持，日志发送策略等。")]),a._v(" "),t("p",[a._v("建议在调用 "),t("code",[a._v("StatService.start(Context context)")]),a._v("前调用。")]),a._v(" "),t("h2",{attrs:{id:"api列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api列表"}},[a._v("#")]),a._v(" api列表")]),a._v(" "),t("h3",{attrs:{id:"appkey"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#appkey"}},[a._v("#")]),a._v(" appKey")]),a._v(" "),t("p",[a._v("设置appKey，可以通过如下java代码设置和获取；建议通过manifest.xml配置")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 设置appKey")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("StatService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("setAppKey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" appKey"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取appKey")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("StatService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getAppKey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Context")]),a._v(" context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("h3",{attrs:{id:"channelid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#channelid"}},[a._v("#")]),a._v(" channelId")]),a._v(" "),t("p",[a._v("设置渠道，可以通过如下java代码设置和获取；建议通过manifest.xml配置")]),a._v(" "),t("p",[a._v("备注：历史api"),t("code",[a._v("setAppChannel(String appChannel)")]),a._v("已经废弃，请使用下面新api进行渠道设置。")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('@param context 可以是application context\n@param appChannel 渠道值，数值自定义，不同渠道自己能区分即可，例如"baidu market"\n@param saveChannelWithCode 设置为true，保存设置\nStatService.setAppChannel(Context context, String appChannel, boolean saveChannelWithCode) ;\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("h3",{attrs:{id:"crash收集"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#crash收集"}},[a._v("#")]),a._v(" crash收集")]),a._v(" "),t("p",[a._v("设置打开Crash日志收集。")]),a._v(" "),t("p",[a._v("备注：sdk 支持收集 java crash 和 native crash（底层"),t("code",[a._v("C/C++")]),a._v("代码崩溃）。具体native crash 收集请参考"),t("a",{attrs:{href:"https://mtj.baidu.com/static/userguide/book/android/adconfig/crash/crash.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("错误统计"),t("OutboundLink")],1),a._v("。")]),a._v(" "),t("blockquote",[t("p",[a._v("仅收集java crash，flag = StatService.JAVA_EXCEPTION_LOG")]),a._v(" "),t("p",[a._v("同时收集java 和 native crash，flag = StatService.EXCEPTION_LOG")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@param context 可以是application context\n@param flag crash标识\nStatService.setOn(Context context, int flag);\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h3",{attrs:{id:"日志延时发送"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日志延时发送"}},[a._v("#")]),a._v(" 日志延时发送")]),a._v(" "),t("p",[a._v("设置启动后日志发送延时时间")]),a._v(" "),t("blockquote",[t("p",[a._v("默认值"),t("code",[a._v("0")]),a._v("，启动时刻立即load数据发送日志")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@param seconds 延时时长，单位：s\nStatService.setLogSenderDelayed(int seconds);\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h3",{attrs:{id:"session时长"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#session时长"}},[a._v("#")]),a._v(" session时长")]),a._v(" "),t("p",[a._v("设置应用进入后台再回到前台为同一次启动的最大间隔时间，有效值范围0～600s，例如设置值30s，则应用进入后台后，30s内唤醒为同一次启动")]),a._v(" "),t("blockquote",[t("p",[a._v("默认值 30s")]),a._v(" "),t("p",[a._v("启动次数定义：顾名思义，启动次数就是在规定时间段内，用户打开应用的次数。“一次启动”是指用户从打开APP开始，到退出APP（或离开应用界面，进入后台）为止。一次启动过程中可能浏览多个页面。")]),a._v(" "),t("p",[a._v("启动次数技术判定：如果同一个用户在退出APP或离开应用界面进入后台，又在30秒之内再次启动应用，则两次启动算作一次。反之，如果用户在30秒之后再次启动应用，则启动次数算作两次。在百度移动统计SDK3.1版本以上中，开发者都可以对“30秒”这个业界标准根据应用自身情况进行调整设定。")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@param seconds 延时时长，单位：s\nStatService.setSessionTimeOut(int seconds);\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h3",{attrs:{id:"调试开关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调试开关"}},[a._v("#")]),a._v(" 调试开关")]),a._v(" "),t("p",[a._v("设置是否打印SDK中的日志，用于调试")]),a._v(" "),t("blockquote",[t("p",[a._v("默认关闭；正式版本中，为避免影响APP性能，请关闭调试。")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@param debug true，打开；false，关闭\nStatService.setDebugOn(boolean debug);\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h3",{attrs:{id:"mac-id获取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac-id获取"}},[a._v("#")]),a._v(" mac id获取")]),a._v(" "),t("p",[a._v("设置是否采集mac地址，该接口仅对android 6 及以上版本生效。默认情况下采集macid。Macid有助于更精准的用户标识，优化报表展现。如您APP有国外发版需求，可以调用接口关闭macid获取。")]),a._v(" "),t("blockquote",[t("p",[a._v("如果开发者需要在google play发布，考虑到审核风险，可以调用该接口，设置为 false则不采集mac地址；设置为false后，后续新版本如果需要采集，则需要在新版本显式调用，设置为true。")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@param context 可以是application context\n@param debug true，打开；false，关闭\nStatService.enableDeviceMac(Context context, boolean enable);\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h3",{attrs:{id:"电视统计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#电视统计"}},[a._v("#")]),a._v(" 电视统计")]),a._v(" "),t("p",[a._v("电视统计，计算设备id的方式不同，因此需要单独打开开关")]),a._v(" "),t("blockquote",[t("p",[a._v("默认是标准统计，适用于手机、平板等设备；如果是电视盒子上的APP，请调用此api打开。")])]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("StatService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("setForTv")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Context")]),a._v(" context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("boolean")]),a._v(" value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"自定义帐号上传"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义帐号上传"}},[a._v("#")]),a._v(" 自定义帐号上传")]),a._v(" "),t("p",[t("code",[a._v("3.9.0.0")]),a._v("版本开始，SDK支持自定义帐号上传功能。开发者上传自定义帐号后，可以在百度移动统计WEB端开启"),t("code",[a._v("用户自定义分群")]),a._v("功能。")]),a._v(" "),t("blockquote",[t("p",[a._v("设置用户id。设置后会在保存在本地，如果需要清除设置，传入null")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@param context\n@param userId  开发者设置的用户id\nStatService.setUserId(Context context, String userId);\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h3",{attrs:{id:"推送id上传"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#推送id上传"}},[a._v("#")]),a._v(" 推送ID上传")]),a._v(" "),t("p",[t("code",[a._v("3.9.1.0")]),a._v("版本开始，SDK支持推送ID上传功能。开发者上传推送平台ID后，可以在百度移动统计筛选特定用户群导出推送ID列表。")]),a._v(" "),t("blockquote",[t("p",[a._v("设置推送平台id。设置后会在保存在本地，如果需要清除设置，传入null")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@param context\n@param platform 推送平台\n@param pushId   客户端获取的对应推送平台的推送ID\nStatService.setPushId(Context context, MtjConfig.PushPlatform platform, String pushId);\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("h3",{attrs:{id:"自定义用户属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义用户属性"}},[a._v("#")]),a._v(" 自定义用户属性")]),a._v(" "),t("p",[t("code",[a._v("3.9.5.7")]),a._v("版本开始，SDK支持自定义用户属性上传功能。")]),a._v(" "),t("blockquote",[t("p",[a._v("设置自定义map属性。设置后会在保存在本地，如果需要清除设置，传入null")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@param context\n@param map 开发者设置的自定义参数\nStatService.setUserProperty(Context context, Map<String, String> map);\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);