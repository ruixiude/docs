<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Joins | 文档管理中心</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="瑞修得移动开发小组文档管理中心">
    
    <link rel="preload" href="/assets/css/0.styles.e0cd40c5.css" as="style"><link rel="preload" href="/assets/js/app.708bd31f.js" as="script"><link rel="preload" href="/assets/js/2.1637da50.js" as="script"><link rel="preload" href="/assets/js/35.314a3788.js" as="script"><link rel="prefetch" href="/assets/js/10.671ef702.js"><link rel="prefetch" href="/assets/js/100.1719235d.js"><link rel="prefetch" href="/assets/js/101.41c73b12.js"><link rel="prefetch" href="/assets/js/102.4a7c53ec.js"><link rel="prefetch" href="/assets/js/103.0a5c3a01.js"><link rel="prefetch" href="/assets/js/104.a55d0f0c.js"><link rel="prefetch" href="/assets/js/105.761a51a7.js"><link rel="prefetch" href="/assets/js/106.f2fc33ad.js"><link rel="prefetch" href="/assets/js/107.8d90051f.js"><link rel="prefetch" href="/assets/js/108.ac08dac5.js"><link rel="prefetch" href="/assets/js/109.e4ba296f.js"><link rel="prefetch" href="/assets/js/11.74d91dbd.js"><link rel="prefetch" href="/assets/js/110.8b99d3d7.js"><link rel="prefetch" href="/assets/js/111.b8079109.js"><link rel="prefetch" href="/assets/js/112.2b876618.js"><link rel="prefetch" href="/assets/js/113.8ed4fb9a.js"><link rel="prefetch" href="/assets/js/114.c7574062.js"><link rel="prefetch" href="/assets/js/115.679d2f31.js"><link rel="prefetch" href="/assets/js/116.e0690ce3.js"><link rel="prefetch" href="/assets/js/117.28a45e3d.js"><link rel="prefetch" href="/assets/js/118.532bbf52.js"><link rel="prefetch" href="/assets/js/119.81a187be.js"><link rel="prefetch" href="/assets/js/12.5a779a5e.js"><link rel="prefetch" href="/assets/js/120.4785d696.js"><link rel="prefetch" href="/assets/js/121.5e9d7e69.js"><link rel="prefetch" href="/assets/js/122.b6a3fdf0.js"><link rel="prefetch" href="/assets/js/123.6f182ec1.js"><link rel="prefetch" href="/assets/js/124.e732f420.js"><link rel="prefetch" href="/assets/js/125.9ebe2714.js"><link rel="prefetch" href="/assets/js/126.ab0e1f77.js"><link rel="prefetch" href="/assets/js/127.a1553ed7.js"><link rel="prefetch" href="/assets/js/128.06c1e104.js"><link rel="prefetch" href="/assets/js/129.c98bcfdd.js"><link rel="prefetch" href="/assets/js/13.19b1f5af.js"><link rel="prefetch" href="/assets/js/130.459a2359.js"><link rel="prefetch" href="/assets/js/131.d5c4610a.js"><link rel="prefetch" href="/assets/js/132.64ddf927.js"><link rel="prefetch" href="/assets/js/133.d9af96cb.js"><link rel="prefetch" href="/assets/js/134.28448611.js"><link rel="prefetch" href="/assets/js/135.a1940886.js"><link rel="prefetch" href="/assets/js/136.47630df4.js"><link rel="prefetch" href="/assets/js/137.d1302ead.js"><link rel="prefetch" href="/assets/js/138.076aa01b.js"><link rel="prefetch" href="/assets/js/139.840c94af.js"><link rel="prefetch" href="/assets/js/14.68ae7e90.js"><link rel="prefetch" href="/assets/js/140.285e384c.js"><link rel="prefetch" href="/assets/js/141.53100d40.js"><link rel="prefetch" href="/assets/js/142.8751ffcd.js"><link rel="prefetch" href="/assets/js/143.6a99ea4e.js"><link rel="prefetch" href="/assets/js/144.92ed9788.js"><link rel="prefetch" href="/assets/js/145.46d45fe6.js"><link rel="prefetch" href="/assets/js/146.0d5e1907.js"><link rel="prefetch" href="/assets/js/147.1d45b414.js"><link rel="prefetch" href="/assets/js/148.3c1d7857.js"><link rel="prefetch" href="/assets/js/149.6e71cd9c.js"><link rel="prefetch" href="/assets/js/15.e4274f77.js"><link rel="prefetch" href="/assets/js/16.29ac15df.js"><link rel="prefetch" href="/assets/js/17.79577068.js"><link rel="prefetch" href="/assets/js/18.7aa649ac.js"><link rel="prefetch" href="/assets/js/19.ce2c2516.js"><link rel="prefetch" href="/assets/js/20.c6f145a7.js"><link rel="prefetch" href="/assets/js/21.96ad3811.js"><link rel="prefetch" href="/assets/js/22.e12d52e2.js"><link rel="prefetch" href="/assets/js/23.5d518d64.js"><link rel="prefetch" href="/assets/js/24.7681a4d8.js"><link rel="prefetch" href="/assets/js/25.3a25fa62.js"><link rel="prefetch" href="/assets/js/26.07718401.js"><link rel="prefetch" href="/assets/js/27.8743f90e.js"><link rel="prefetch" href="/assets/js/28.b4d6b486.js"><link rel="prefetch" href="/assets/js/29.aedc0020.js"><link rel="prefetch" href="/assets/js/3.3c077cdd.js"><link rel="prefetch" href="/assets/js/30.64c38825.js"><link rel="prefetch" href="/assets/js/31.90d7dc8b.js"><link rel="prefetch" href="/assets/js/32.5ccb0e26.js"><link rel="prefetch" href="/assets/js/33.8fb12054.js"><link rel="prefetch" href="/assets/js/34.814b9e5c.js"><link rel="prefetch" href="/assets/js/36.dd90c802.js"><link rel="prefetch" href="/assets/js/37.ea6b2a06.js"><link rel="prefetch" href="/assets/js/38.be6dbf17.js"><link rel="prefetch" href="/assets/js/39.4fbc7ab4.js"><link rel="prefetch" href="/assets/js/4.b333c14c.js"><link rel="prefetch" href="/assets/js/40.e65caa31.js"><link rel="prefetch" href="/assets/js/41.36d65bc4.js"><link rel="prefetch" href="/assets/js/42.afc24694.js"><link rel="prefetch" href="/assets/js/43.ba56bb37.js"><link rel="prefetch" href="/assets/js/44.a078d196.js"><link rel="prefetch" href="/assets/js/45.53beecc1.js"><link rel="prefetch" href="/assets/js/46.d713aee5.js"><link rel="prefetch" href="/assets/js/47.ace7ed80.js"><link rel="prefetch" href="/assets/js/48.aa3d5ea2.js"><link rel="prefetch" href="/assets/js/49.e0cc3e5c.js"><link rel="prefetch" href="/assets/js/5.80d7978e.js"><link rel="prefetch" href="/assets/js/50.2bffebce.js"><link rel="prefetch" href="/assets/js/51.3bb2197c.js"><link rel="prefetch" href="/assets/js/52.30d5a6ab.js"><link rel="prefetch" href="/assets/js/53.86f280a5.js"><link rel="prefetch" href="/assets/js/54.bec1da07.js"><link rel="prefetch" href="/assets/js/55.6890ba67.js"><link rel="prefetch" href="/assets/js/56.78f10d2c.js"><link rel="prefetch" href="/assets/js/57.4d10bb23.js"><link rel="prefetch" href="/assets/js/58.e5bd72e0.js"><link rel="prefetch" href="/assets/js/59.1ccc193e.js"><link rel="prefetch" href="/assets/js/6.93c23e29.js"><link rel="prefetch" href="/assets/js/60.32570259.js"><link rel="prefetch" href="/assets/js/61.2f63bd25.js"><link rel="prefetch" href="/assets/js/62.942ce851.js"><link rel="prefetch" href="/assets/js/63.3ca6f01c.js"><link rel="prefetch" href="/assets/js/64.99d6a5a5.js"><link rel="prefetch" href="/assets/js/65.611f70c8.js"><link rel="prefetch" href="/assets/js/66.5fdebb0c.js"><link rel="prefetch" href="/assets/js/67.c69af9a7.js"><link rel="prefetch" href="/assets/js/68.f8e4e8b2.js"><link rel="prefetch" href="/assets/js/69.5a5e1c53.js"><link rel="prefetch" href="/assets/js/7.e0defabf.js"><link rel="prefetch" href="/assets/js/70.e15c66b9.js"><link rel="prefetch" href="/assets/js/71.d8817a6b.js"><link rel="prefetch" href="/assets/js/72.fddf5dc9.js"><link rel="prefetch" href="/assets/js/73.dab77603.js"><link rel="prefetch" href="/assets/js/74.8eddb38e.js"><link rel="prefetch" href="/assets/js/75.1a6011d1.js"><link rel="prefetch" href="/assets/js/76.9945f5b3.js"><link rel="prefetch" href="/assets/js/77.6ccffdef.js"><link rel="prefetch" href="/assets/js/78.4df66be0.js"><link rel="prefetch" href="/assets/js/79.f60eab5a.js"><link rel="prefetch" href="/assets/js/8.edeef7ca.js"><link rel="prefetch" href="/assets/js/80.e8dd7875.js"><link rel="prefetch" href="/assets/js/81.381e4258.js"><link rel="prefetch" href="/assets/js/82.f5d076b2.js"><link rel="prefetch" href="/assets/js/83.4af266b2.js"><link rel="prefetch" href="/assets/js/84.c8b235a0.js"><link rel="prefetch" href="/assets/js/85.e1f06807.js"><link rel="prefetch" href="/assets/js/86.de1b4ab9.js"><link rel="prefetch" href="/assets/js/87.6942ff22.js"><link rel="prefetch" href="/assets/js/88.4df7f839.js"><link rel="prefetch" href="/assets/js/89.7822a705.js"><link rel="prefetch" href="/assets/js/9.e81ad78e.js"><link rel="prefetch" href="/assets/js/90.b2708e26.js"><link rel="prefetch" href="/assets/js/91.e8a4fe8b.js"><link rel="prefetch" href="/assets/js/92.7ebcf313.js"><link rel="prefetch" href="/assets/js/93.3a4310ca.js"><link rel="prefetch" href="/assets/js/94.8464a452.js"><link rel="prefetch" href="/assets/js/95.38ca9044.js"><link rel="prefetch" href="/assets/js/96.29241883.js"><link rel="prefetch" href="/assets/js/97.b99a8e9d.js"><link rel="prefetch" href="/assets/js/98.ee4911f9.js"><link rel="prefetch" href="/assets/js/99.b99346c9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e0cd40c5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">文档管理中心</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Third Party" class="dropdown-title"><span class="title">Third Party</span> <span class="arrow down"></span></button> <button type="button" aria-label="Third Party" class="mobile-dropdown-title"><span class="title">Third Party</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/third-party/arouter/" class="nav-link">
  ARouter
</a></li><li class="dropdown-item"><!----> <a href="/third-party/bugly/" class="nav-link">
  Bugly
</a></li><li class="dropdown-item"><!----> <a href="/third-party/dokka/" class="nav-link">
  Dokka
</a></li><li class="dropdown-item"><!----> <a href="/third-party/greendao/" class="nav-link router-link-active">
  greenDAO
</a></li><li class="dropdown-item"><!----> <a href="/third-party/koin/" class="nav-link">
  Koin
</a></li><li class="dropdown-item"><!----> <a href="/third-party/mars/" class="nav-link">
  Mars
</a></li><li class="dropdown-item"><!----> <a href="/third-party/mmkv/" class="nav-link">
  MMKV
</a></li><li class="dropdown-item"><!----> <a href="/third-party/mtj/" class="nav-link">
  百度移动统计
</a></li><li class="dropdown-item"><!----> <a href="/third-party/objectbox/" class="nav-link">
  Objectbox
</a></li><li class="dropdown-item"><!----> <a href="/third-party/okhttp/" class="nav-link">
  OkHttp
</a></li><li class="dropdown-item"><!----> <a href="/third-party/orhanobut-logger/" class="nav-link">
  Orhanobut Logger
</a></li><li class="dropdown-item"><!----> <a href="/third-party/retrofit/" class="nav-link">
  Retrofit
</a></li><li class="dropdown-item"><!----> <a href="/third-party/rxjava/" class="nav-link">
  Rxjava
</a></li><li class="dropdown-item"><!----> <a href="/third-party/sentry/" class="nav-link">
  Sentry
</a></li><li class="dropdown-item"><!----> <a href="/third-party/umeng/" class="nav-link">
  友盟+
</a></li></ul></div></div><div class="nav-item"><a href="https://ruixiude.github.io/apidocs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线API文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Third Party" class="dropdown-title"><span class="title">Third Party</span> <span class="arrow down"></span></button> <button type="button" aria-label="Third Party" class="mobile-dropdown-title"><span class="title">Third Party</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/third-party/arouter/" class="nav-link">
  ARouter
</a></li><li class="dropdown-item"><!----> <a href="/third-party/bugly/" class="nav-link">
  Bugly
</a></li><li class="dropdown-item"><!----> <a href="/third-party/dokka/" class="nav-link">
  Dokka
</a></li><li class="dropdown-item"><!----> <a href="/third-party/greendao/" class="nav-link router-link-active">
  greenDAO
</a></li><li class="dropdown-item"><!----> <a href="/third-party/koin/" class="nav-link">
  Koin
</a></li><li class="dropdown-item"><!----> <a href="/third-party/mars/" class="nav-link">
  Mars
</a></li><li class="dropdown-item"><!----> <a href="/third-party/mmkv/" class="nav-link">
  MMKV
</a></li><li class="dropdown-item"><!----> <a href="/third-party/mtj/" class="nav-link">
  百度移动统计
</a></li><li class="dropdown-item"><!----> <a href="/third-party/objectbox/" class="nav-link">
  Objectbox
</a></li><li class="dropdown-item"><!----> <a href="/third-party/okhttp/" class="nav-link">
  OkHttp
</a></li><li class="dropdown-item"><!----> <a href="/third-party/orhanobut-logger/" class="nav-link">
  Orhanobut Logger
</a></li><li class="dropdown-item"><!----> <a href="/third-party/retrofit/" class="nav-link">
  Retrofit
</a></li><li class="dropdown-item"><!----> <a href="/third-party/rxjava/" class="nav-link">
  Rxjava
</a></li><li class="dropdown-item"><!----> <a href="/third-party/sentry/" class="nav-link">
  Sentry
</a></li><li class="dropdown-item"><!----> <a href="/third-party/umeng/" class="nav-link">
  友盟+
</a></li></ul></div></div><div class="nav-item"><a href="https://ruixiude.github.io/apidocs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线API文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/third-party/greendao/" aria-current="page" class="sidebar-link">greenDAO</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Documentation</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/third-party/greendao/documentation/how-to-get-started.html" class="sidebar-link">How to get started</a></li><li><a href="/third-party/greendao/documentation/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/third-party/greendao/documentation/modelling-entities.html" class="sidebar-link">Modelling entities</a></li><li><a href="/third-party/greendao/documentation/sessions.html" class="sidebar-link">Sessions</a></li><li><a href="/third-party/greendao/documentation/queries.html" class="sidebar-link">Queries</a></li><li><a href="/third-party/greendao/documentation/joins.html" aria-current="page" class="active sidebar-link">Joins</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/third-party/greendao/documentation/relations.html" class="sidebar-link">Relations</a></li><li><a href="/third-party/greendao/documentation/custom-types.html" class="sidebar-link">Custom Types</a></li><li><a href="/third-party/greendao/documentation/database-encryption.html" class="sidebar-link">Database Encryption</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="joins"><a href="#joins" class="header-anchor">#</a> Joins</h1> <p>Non-trivial <a href="http://greenrobot.org/documentation/queries/" target="_blank" rel="noopener noreferrer">queries<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> often require data of several entity types (tables). In the SQL world, you can make that happen by “joining” two or more tables using a join condition.</p> <p>Let’s consider an entity User, which has a one-to-many relation to an Address entity. Then we want to query for users living on “Sesame Street”: We would have to join the Address entity with the User entity using the user ID and define a WHERE condition on the Address entity:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">QueryBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> queryBuilder <span class="token operator">=</span> userDao<span class="token punctuation">.</span><span class="token function">queryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
queryBuilder<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token class-name">Address</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">AddressDao<span class="token punctuation">.</span>Properties</span><span class="token punctuation">.</span>userId<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token class-name">AddressDao<span class="token punctuation">.</span>Properties<span class="token punctuation">.</span>Street</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">&quot;Sesame Street&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>The join requires the target entity class as a parameter and a join property of each entity. In the example, just the join property of the Address entity is defined, because the primary key property is used by default. In other words, the query results in users, which have an Address entity with a userId equal to the User entity’s ID and also have a specific street.</p> <h3 id="querybuilder-join-api"><a href="#querybuilder-join-api" class="header-anchor">#</a> QueryBuilder Join API</h3> <p>Because you can omit the join property when the primary key property can be used, there are three overloaded join methods available in <a href="http://greenrobot.org/files/greendao/javadoc/current/org/greenrobot/greendao/query/QueryBuilder.html" target="_blank" rel="noopener noreferrer">QueryBuilder<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
  * Expands the query to another entity type by using a JOIN.
  * The primary key property of the primary entity for
  * this QueryBuilder is used to match the given destinationProperty.
  */</span>
<span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Join</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> destinationEntityClass<span class="token punctuation">,</span> <span class="token class-name">Property</span> destinationProperty<span class="token punctuation">)</span>
 
<span class="token comment">/**
 * Expands the query to another entity type by using a JOIN.
 * The given sourceProperty is used to match the primary
 * key property of the given destinationEntity.
 */</span>
<span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Join</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token class-name">Property</span> sourceProperty<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> destinationEntityClass<span class="token punctuation">)</span>
 
<span class="token comment">/**
 * Expands the query to another entity type by using a JOIN.
 * The given sourceProperty is used to match the given
 * destinationProperty of the given destinationEntity.
 */</span>
<span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Join</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token class-name">Property</span> sourceProperty<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> destinationEntityClass<span class="token punctuation">,</span>
    <span class="token class-name">Property</span> destinationProperty<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="chained-joins"><a href="#chained-joins" class="header-anchor">#</a> Chained Joins</h3> <p>In addition, greenDAO allows to chain joins across multiple tables. Here, you define a join using another join and a destination entity. In this case, the destination entity of the first join becomes the starting entity for the second join.</p> <p>The QueryBuilder API for chained joins looks like this:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * Expands the query to another entity type by using a JOIN.
 * The given sourceJoin's property is used to match the
 * given destinationProperty of the given destinationEntity.
 * Note that destination entity of the given join is used
 * as the source for the new join to add. In this way,
 * it is possible to compose complex &quot;join of joins&quot; across
 * several entities if required.
 */</span>
<span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Join</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token class-name">Join</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> sourceJoin<span class="token punctuation">,</span> <span class="token class-name">Property</span> sourceProperty<span class="token punctuation">,</span>
    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">J</span><span class="token punctuation">&gt;</span></span> destinationEntityClass<span class="token punctuation">,</span> <span class="token class-name">Property</span> destinationProperty<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Let’s look at another example with three entities: City, Country, and Continent. If we want to query all cities in Europe with a population of at least one million, it would look like this:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">QueryBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">City</span><span class="token punctuation">&gt;</span></span> qb <span class="token operator">=</span> cityDao<span class="token punctuation">.</span><span class="token function">queryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token class-name">Properties<span class="token punctuation">.</span>Population</span><span class="token punctuation">.</span><span class="token function">ge</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Join</span> country <span class="token operator">=</span> qb<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token class-name">Properties<span class="token punctuation">.</span>CountryId</span><span class="token punctuation">,</span> <span class="token class-name">Country</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Join</span> continent <span class="token operator">=</span> qb<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>country<span class="token punctuation">,</span> <span class="token class-name">CountryDao<span class="token punctuation">.</span>Properties<span class="token punctuation">.</span>ContinentId</span><span class="token punctuation">,</span>
  <span class="token class-name">Continent</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">ContinentDao<span class="token punctuation">.</span>Properties<span class="token punctuation">.</span>Id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
continent<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token class-name">ContinentDao<span class="token punctuation">.</span>Properties<span class="token punctuation">.</span>Name</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">&quot;Europe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">City</span><span class="token punctuation">&gt;</span></span> bigEuropeanCities <span class="token operator">=</span> qb<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="self-join-tree-example"><a href="#self-join-tree-example" class="header-anchor">#</a> Self Join / Tree example</h3> <p>A join can also be used with relations referencing a single entity. For example, we want to find all persons, whose grandfather’s name is “Lincoln”. Let’s assume we have a Person entity with a fatherId property pointing to the same entity. Then, the query is built like this:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">QueryBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> qb <span class="token operator">=</span> personDao<span class="token punctuation">.</span><span class="token function">queryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Join</span> father <span class="token operator">=</span> qb<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">Properties<span class="token punctuation">.</span>FatherId</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Join</span> grandfather <span class="token operator">=</span> qb<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>father<span class="token punctuation">,</span> <span class="token class-name">Properties<span class="token punctuation">.</span>FatherId</span><span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">Properties<span class="token punctuation">.</span>Id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
grandfather<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token class-name">Properties<span class="token punctuation">.</span>Name</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">&quot;Lincoln&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> lincolnDescendants <span class="token operator">=</span> qb<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/third-party/greendao/documentation/queries.html" class="prev">
        Queries
      </a></span> <span class="next"><a href="/third-party/greendao/documentation/relations.html">
        Relations
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.708bd31f.js" defer></script><script src="/assets/js/2.1637da50.js" defer></script><script src="/assets/js/35.314a3788.js" defer></script>
  </body>
</html>
