<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用指南 | 文档管理中心</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="瑞修得移动开发小组文档管理中心">
    
    <link rel="preload" href="/docs/assets/css/0.styles.901409fb.css" as="style"><link rel="preload" href="/docs/assets/js/app.1dda1ef8.js" as="script"><link rel="preload" href="/docs/assets/js/2.1637da50.js" as="script"><link rel="preload" href="/docs/assets/js/24.9fd2bb95.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.58dfe90f.js"><link rel="prefetch" href="/docs/assets/js/100.5c67fc3e.js"><link rel="prefetch" href="/docs/assets/js/101.3e719c16.js"><link rel="prefetch" href="/docs/assets/js/102.98816141.js"><link rel="prefetch" href="/docs/assets/js/103.0a5c3a01.js"><link rel="prefetch" href="/docs/assets/js/104.a55d0f0c.js"><link rel="prefetch" href="/docs/assets/js/105.59340145.js"><link rel="prefetch" href="/docs/assets/js/106.b8154cda.js"><link rel="prefetch" href="/docs/assets/js/107.22f6f4f3.js"><link rel="prefetch" href="/docs/assets/js/108.ac08dac5.js"><link rel="prefetch" href="/docs/assets/js/109.261bb23c.js"><link rel="prefetch" href="/docs/assets/js/11.be546261.js"><link rel="prefetch" href="/docs/assets/js/110.40e9908d.js"><link rel="prefetch" href="/docs/assets/js/111.d0bf2613.js"><link rel="prefetch" href="/docs/assets/js/112.acf2ec43.js"><link rel="prefetch" href="/docs/assets/js/113.adea7e7c.js"><link rel="prefetch" href="/docs/assets/js/114.4215f03c.js"><link rel="prefetch" href="/docs/assets/js/115.664f3b94.js"><link rel="prefetch" href="/docs/assets/js/116.721268c9.js"><link rel="prefetch" href="/docs/assets/js/117.592435d2.js"><link rel="prefetch" href="/docs/assets/js/118.fea53932.js"><link rel="prefetch" href="/docs/assets/js/119.720b40e9.js"><link rel="prefetch" href="/docs/assets/js/12.a3a13835.js"><link rel="prefetch" href="/docs/assets/js/120.0816f4ee.js"><link rel="prefetch" href="/docs/assets/js/121.5e9d7e69.js"><link rel="prefetch" href="/docs/assets/js/122.b6a3fdf0.js"><link rel="prefetch" href="/docs/assets/js/123.58800fd8.js"><link rel="prefetch" href="/docs/assets/js/124.7764b45f.js"><link rel="prefetch" href="/docs/assets/js/125.bf736276.js"><link rel="prefetch" href="/docs/assets/js/126.096778ee.js"><link rel="prefetch" href="/docs/assets/js/127.7f3b491a.js"><link rel="prefetch" href="/docs/assets/js/128.2c976ed6.js"><link rel="prefetch" href="/docs/assets/js/129.1558b942.js"><link rel="prefetch" href="/docs/assets/js/13.d66ff325.js"><link rel="prefetch" href="/docs/assets/js/130.521d4737.js"><link rel="prefetch" href="/docs/assets/js/131.28349f1c.js"><link rel="prefetch" href="/docs/assets/js/132.18530a22.js"><link rel="prefetch" href="/docs/assets/js/133.46e03b94.js"><link rel="prefetch" href="/docs/assets/js/134.e8ad93d1.js"><link rel="prefetch" href="/docs/assets/js/135.776ec045.js"><link rel="prefetch" href="/docs/assets/js/136.d546aafe.js"><link rel="prefetch" href="/docs/assets/js/137.93461a95.js"><link rel="prefetch" href="/docs/assets/js/138.2f9a75db.js"><link rel="prefetch" href="/docs/assets/js/139.bb135f58.js"><link rel="prefetch" href="/docs/assets/js/14.586917b9.js"><link rel="prefetch" href="/docs/assets/js/140.6097bf59.js"><link rel="prefetch" href="/docs/assets/js/141.6a6d651b.js"><link rel="prefetch" href="/docs/assets/js/142.d26aa58e.js"><link rel="prefetch" href="/docs/assets/js/143.23821827.js"><link rel="prefetch" href="/docs/assets/js/144.3a4c36b1.js"><link rel="prefetch" href="/docs/assets/js/145.2824b080.js"><link rel="prefetch" href="/docs/assets/js/146.b1e8893f.js"><link rel="prefetch" href="/docs/assets/js/147.d54b971f.js"><link rel="prefetch" href="/docs/assets/js/148.369df7cc.js"><link rel="prefetch" href="/docs/assets/js/149.1bf135cd.js"><link rel="prefetch" href="/docs/assets/js/15.719b9ed4.js"><link rel="prefetch" href="/docs/assets/js/16.801ae469.js"><link rel="prefetch" href="/docs/assets/js/17.caf90ccc.js"><link rel="prefetch" href="/docs/assets/js/18.9b1430b4.js"><link rel="prefetch" href="/docs/assets/js/19.a7ce47c6.js"><link rel="prefetch" href="/docs/assets/js/20.c6f145a7.js"><link rel="prefetch" href="/docs/assets/js/21.96ad3811.js"><link rel="prefetch" href="/docs/assets/js/22.8b467667.js"><link rel="prefetch" href="/docs/assets/js/23.12614503.js"><link rel="prefetch" href="/docs/assets/js/25.1666b1f6.js"><link rel="prefetch" href="/docs/assets/js/26.59796892.js"><link rel="prefetch" href="/docs/assets/js/27.99afdda0.js"><link rel="prefetch" href="/docs/assets/js/28.b4d6b486.js"><link rel="prefetch" href="/docs/assets/js/29.afbc8554.js"><link rel="prefetch" href="/docs/assets/js/3.3c077cdd.js"><link rel="prefetch" href="/docs/assets/js/30.707e9271.js"><link rel="prefetch" href="/docs/assets/js/31.1f01bd11.js"><link rel="prefetch" href="/docs/assets/js/32.58b8cdf9.js"><link rel="prefetch" href="/docs/assets/js/33.5e6d8fb9.js"><link rel="prefetch" href="/docs/assets/js/34.7a9c9f16.js"><link rel="prefetch" href="/docs/assets/js/35.314a3788.js"><link rel="prefetch" href="/docs/assets/js/36.54191cc3.js"><link rel="prefetch" href="/docs/assets/js/37.44382138.js"><link rel="prefetch" href="/docs/assets/js/38.5380da44.js"><link rel="prefetch" href="/docs/assets/js/39.34ebb7c0.js"><link rel="prefetch" href="/docs/assets/js/4.b333c14c.js"><link rel="prefetch" href="/docs/assets/js/40.0453b798.js"><link rel="prefetch" href="/docs/assets/js/41.36d65bc4.js"><link rel="prefetch" href="/docs/assets/js/42.04cba918.js"><link rel="prefetch" href="/docs/assets/js/43.ee454731.js"><link rel="prefetch" href="/docs/assets/js/44.256c268b.js"><link rel="prefetch" href="/docs/assets/js/45.7a79bfa1.js"><link rel="prefetch" href="/docs/assets/js/46.71832f87.js"><link rel="prefetch" href="/docs/assets/js/47.102136b0.js"><link rel="prefetch" href="/docs/assets/js/48.1b555eed.js"><link rel="prefetch" href="/docs/assets/js/49.2dad9744.js"><link rel="prefetch" href="/docs/assets/js/5.80d7978e.js"><link rel="prefetch" href="/docs/assets/js/50.2bffebce.js"><link rel="prefetch" href="/docs/assets/js/51.67de7f5b.js"><link rel="prefetch" href="/docs/assets/js/52.1fb2cbfa.js"><link rel="prefetch" href="/docs/assets/js/53.86f280a5.js"><link rel="prefetch" href="/docs/assets/js/54.ba5fd39f.js"><link rel="prefetch" href="/docs/assets/js/55.fbf0c266.js"><link rel="prefetch" href="/docs/assets/js/56.78f10d2c.js"><link rel="prefetch" href="/docs/assets/js/57.5a2a2006.js"><link rel="prefetch" href="/docs/assets/js/58.19058959.js"><link rel="prefetch" href="/docs/assets/js/59.7c1efd15.js"><link rel="prefetch" href="/docs/assets/js/6.93c23e29.js"><link rel="prefetch" href="/docs/assets/js/60.500e14b5.js"><link rel="prefetch" href="/docs/assets/js/61.ba85c18e.js"><link rel="prefetch" href="/docs/assets/js/62.6a199316.js"><link rel="prefetch" href="/docs/assets/js/63.e778bbfe.js"><link rel="prefetch" href="/docs/assets/js/64.c69ba645.js"><link rel="prefetch" href="/docs/assets/js/65.66afc7d5.js"><link rel="prefetch" href="/docs/assets/js/66.c60f23f3.js"><link rel="prefetch" href="/docs/assets/js/67.35ea2d93.js"><link rel="prefetch" href="/docs/assets/js/68.6f128c5c.js"><link rel="prefetch" href="/docs/assets/js/69.e8601092.js"><link rel="prefetch" href="/docs/assets/js/7.e0defabf.js"><link rel="prefetch" href="/docs/assets/js/70.e15c66b9.js"><link rel="prefetch" href="/docs/assets/js/71.65a385e6.js"><link rel="prefetch" href="/docs/assets/js/72.fddf5dc9.js"><link rel="prefetch" href="/docs/assets/js/73.b55e21d6.js"><link rel="prefetch" href="/docs/assets/js/74.78f2bb84.js"><link rel="prefetch" href="/docs/assets/js/75.3291174d.js"><link rel="prefetch" href="/docs/assets/js/76.ca315e89.js"><link rel="prefetch" href="/docs/assets/js/77.8f31a3ff.js"><link rel="prefetch" href="/docs/assets/js/78.4df66be0.js"><link rel="prefetch" href="/docs/assets/js/79.7b82ad6e.js"><link rel="prefetch" href="/docs/assets/js/8.d96ec7b2.js"><link rel="prefetch" href="/docs/assets/js/80.4aa5f85b.js"><link rel="prefetch" href="/docs/assets/js/81.ee0c5d7a.js"><link rel="prefetch" href="/docs/assets/js/82.f5d076b2.js"><link rel="prefetch" href="/docs/assets/js/83.b7d9c0c6.js"><link rel="prefetch" href="/docs/assets/js/84.c8b235a0.js"><link rel="prefetch" href="/docs/assets/js/85.a2f95b9e.js"><link rel="prefetch" href="/docs/assets/js/86.dd6142ae.js"><link rel="prefetch" href="/docs/assets/js/87.d068751e.js"><link rel="prefetch" href="/docs/assets/js/88.18f2cebe.js"><link rel="prefetch" href="/docs/assets/js/89.cdb95e7d.js"><link rel="prefetch" href="/docs/assets/js/9.2bf6fce9.js"><link rel="prefetch" href="/docs/assets/js/90.c40ac454.js"><link rel="prefetch" href="/docs/assets/js/91.6f03a350.js"><link rel="prefetch" href="/docs/assets/js/92.183da242.js"><link rel="prefetch" href="/docs/assets/js/93.4abdb53c.js"><link rel="prefetch" href="/docs/assets/js/94.96d80901.js"><link rel="prefetch" href="/docs/assets/js/95.08358998.js"><link rel="prefetch" href="/docs/assets/js/96.61287424.js"><link rel="prefetch" href="/docs/assets/js/97.a0c32235.js"><link rel="prefetch" href="/docs/assets/js/98.ee4911f9.js"><link rel="prefetch" href="/docs/assets/js/99.fae638a9.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.901409fb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">文档管理中心</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Third Party" class="dropdown-title"><span class="title">Third Party</span> <span class="arrow down"></span></button> <button type="button" aria-label="Third Party" class="mobile-dropdown-title"><span class="title">Third Party</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/third-party/arouter/" class="nav-link">
  ARouter
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/bugly/" class="nav-link router-link-active">
  Bugly
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/dokka/" class="nav-link">
  Dokka
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/greendao/" class="nav-link">
  greenDAO
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/koin/" class="nav-link">
  Koin
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/mars/" class="nav-link">
  Mars
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/mmkv/" class="nav-link">
  MMKV
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/mtj/" class="nav-link">
  百度移动统计
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/objectbox/" class="nav-link">
  Objectbox
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/okhttp/" class="nav-link">
  OkHttp
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/orhanobut-logger/" class="nav-link">
  Orhanobut Logger
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/retrofit/" class="nav-link">
  Retrofit
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/rxjava/" class="nav-link">
  Rxjava
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/sentry/" class="nav-link">
  Sentry
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/umeng/" class="nav-link">
  友盟+
</a></li></ul></div></div><div class="nav-item"><a href="https://ruixiude.github.io/apidocs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线API文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Third Party" class="dropdown-title"><span class="title">Third Party</span> <span class="arrow down"></span></button> <button type="button" aria-label="Third Party" class="mobile-dropdown-title"><span class="title">Third Party</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/third-party/arouter/" class="nav-link">
  ARouter
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/bugly/" class="nav-link router-link-active">
  Bugly
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/dokka/" class="nav-link">
  Dokka
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/greendao/" class="nav-link">
  greenDAO
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/koin/" class="nav-link">
  Koin
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/mars/" class="nav-link">
  Mars
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/mmkv/" class="nav-link">
  MMKV
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/mtj/" class="nav-link">
  百度移动统计
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/objectbox/" class="nav-link">
  Objectbox
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/okhttp/" class="nav-link">
  OkHttp
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/orhanobut-logger/" class="nav-link">
  Orhanobut Logger
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/retrofit/" class="nav-link">
  Retrofit
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/rxjava/" class="nav-link">
  Rxjava
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/sentry/" class="nav-link">
  Sentry
</a></li><li class="dropdown-item"><!----> <a href="/docs/third-party/umeng/" class="nav-link">
  友盟+
</a></li></ul></div></div><div class="nav-item"><a href="https://ruixiude.github.io/apidocs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线API文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/third-party/bugly/" aria-current="page" class="sidebar-link">Home</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>异常上报</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/third-party/bugly/bugly-introduction/" aria-current="page" class="sidebar-link">功能简介</a></li><li><a href="/docs/third-party/bugly/bugly-introduction/instruction-manual.html" aria-current="page" class="active sidebar-link">使用指南</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/third-party/bugly/bugly-introduction/instruction-manual.html#库文件导入" class="sidebar-link">库文件导入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/third-party/bugly/bugly-introduction/instruction-manual.html#自动集成-推荐" class="sidebar-link">自动集成（推荐）</a></li><li class="sidebar-sub-header"><a href="/docs/third-party/bugly/bugly-introduction/instruction-manual.html#手动集成" class="sidebar-link">手动集成</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/third-party/bugly/bugly-introduction/instruction-manual.html#参数配置" class="sidebar-link">参数配置</a></li><li class="sidebar-sub-header"><a href="/docs/third-party/bugly/bugly-introduction/instruction-manual.html#最简单的初始化" class="sidebar-link">最简单的初始化</a></li><li class="sidebar-sub-header"><a href="/docs/third-party/bugly/bugly-introduction/instruction-manual.html#multidex-注意事项" class="sidebar-link">MultiDex 注意事项</a></li><li class="sidebar-sub-header"><a href="/docs/third-party/bugly/bugly-introduction/instruction-manual.html#增加上报进程控制" class="sidebar-link">增加上报进程控制</a></li><li class="sidebar-sub-header"><a href="/docs/third-party/bugly/bugly-introduction/instruction-manual.html#测试" class="sidebar-link">测试</a></li></ul></li><li><a href="/docs/third-party/bugly/bugly-introduction/advance-features.html" class="sidebar-link">高级配置</a></li><li><a href="/docs/third-party/bugly/bugly-introduction/symbol-configuration.html" class="sidebar-link">符号表配置</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="使用指南"><a href="#使用指南" class="header-anchor">#</a> 使用指南</h1> <blockquote><p>腾讯 Bugly 提供专业的 Android Crash(崩溃)、Android native Crash(崩溃)、Android ANR(应用无响应) 的监控和解决方案。</p></blockquote> <h2 id="库文件导入"><a href="#库文件导入" class="header-anchor">#</a> 库文件导入</h2> <p>Bugly 支持自动集成和手动集成两种方式，如果您使用 Gradle 编译 Apk，我们强烈推荐您使用自动接入方式配置库文件。</p> <h3 id="自动集成-推荐"><a href="#自动集成-推荐" class="header-anchor">#</a> 自动集成（推荐）</h3> <p>Bugly 支持 <a href="http://jcenter.bintray.com/com/tencent/bugly" target="_blank" rel="noopener noreferrer">JCenter 仓库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和 <a href="https://repo1.maven.org/maven2/com/tencent/bugly" target="_blank" rel="noopener noreferrer">Maven Central 仓库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。为了实现更加灵活的配置，Bugly SDK（2.1.5 及以上版本）和 NDK（SO 库）目前已经分开成两个独立的仓库：</p> <ul><li>SDK：com.tencent.bugly:crashreport</li> <li>NDK：com.tencent.bugly:nativecrashreport</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>其中，集成Bugly NDK时，需要同时集成Bugly SDK。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="集成-sdk"><a href="#集成-sdk" class="header-anchor">#</a> 集成 SDK</h4> <p>在 Module 的 build.gradle 文件中添加依赖和属性配置：</p> <div class="language-groovy line-numbers-mode"><pre class="language-groovy"><code>dependencies <span class="token punctuation">{</span>
    compile <span class="token string">'com.tencent.bugly:crashreport:latest.release'</span> <span class="token comment">//其中latest.release指代最新Bugly SDK版本号，也可以指定明确的版本号，例如2.2.0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="同时集成-sdk-和-ndk"><a href="#同时集成-sdk-和-ndk" class="header-anchor">#</a> 同时集成 SDK 和 NDK</h4> <p>在 Module 的 build.gradle 文件中添加依赖和属性配置：</p> <div class="language-groovy line-numbers-mode"><pre class="language-groovy"><code>android <span class="token punctuation">{</span>
    defaultConfig <span class="token punctuation">{</span>
        ndk <span class="token punctuation">{</span>
            <span class="token comment">// 设置支持的SO库架构</span>
            abiFilters <span class="token string">'armeabi'</span> <span class="token comment">//, 'x86', 'armeabi-v7a', 'x86_64', 'arm64-v8a'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dependencies <span class="token punctuation">{</span>
    compile <span class="token string">'com.tencent.bugly:crashreport:latest.release'</span> <span class="token comment">//其中latest.release指代最新Bugly SDK版本号，也可以指定明确的版本号，例如2.1.9</span>
    compile <span class="token string">'com.tencent.bugly:nativecrashreport:latest.release'</span> <span class="token comment">//其中latest.release指代最新Bugly NDK版本号，也可以指定明确的版本号，例如3.0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>同时集成 Bugly SDK 和 NDK 的配置如下图所示，后续更新 Bugly SDK 和 NDK 时，只需变更配置脚本中的版本号即可。</strong></p> <p><img src="https://bugly.qq.com/docs/img/android/1001.png?v=20200622202242" alt="img"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>注意：自动集成时会自动包含Bugly SO库，建议在Module的build.gradle文件中使用NDK的“abiFilter”配置，设置支持的SO库架构。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果在添加 <strong>“abiFilter”</strong> 之后 Android Studio 出现以下提示：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>NDK integration is deprecated in the current plugin.  Consider trying the new experimental plugin.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>则在项目根目录的 <strong>gradle.properties</strong> 文件中添加：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>android.useDeprecatedNdk=true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="手动集成"><a href="#手动集成" class="header-anchor">#</a> 手动集成</h3> <p>如果您不采用上述自动导入方式，也可以手动集成 Bugly SDK。</p> <p><strong>下载 Bugly 库文件</strong></p> <ul><li>下载 Bugly 的 <a href="https://bugly.qq.com/docs/release-notes/release-android-bugly/" target="_blank" rel="noopener noreferrer">Android SDK 包<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；</li> <li>如果您的工程有 Native 代码（C/C++）或者集成了其他第三方 SO 库，建议下载 Bugly 的 <a href="https://bugly.qq.com/docs/release-notes/release-android-ndk/" target="_blank" rel="noopener noreferrer">NDK 动态库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ul> <p>Bugly NDK 包含多个架构的 SO 库：</p> <ul><li>armeabi</li> <li>armeabi-v7a</li> <li>arm64-v8a</li> <li>x86</li> <li>x86_64</li></ul> <p>在集成 Bugly SO 库时，请注意只保留支持的架构 SO 库。</p> <p><strong><s>Eclipse 工程</s></strong></p> <ul><li>将 Bugly 库文件复制到工程的 libs 目录下；</li> <li>Refresh 一下工程；</li> <li>添加工程依赖：鼠标右键点击 Bugly 的 JAR 文件，添加到编译路径中。</li></ul> <p><img src="https://bugly.qq.com/docs/img/android/1002.png?v=20200622202242" alt="img"></p> <p><strong>Android Studio 工程</strong></p> <ul><li>将 Bugly 库文件复制到工程的 libs 目录下；</li> <li>如果集成 Bugly NDK，则在 Module 的 buid.gradle 文件中添加 SO 库目录配置：</li></ul> <div class="language-groovy line-numbers-mode"><pre class="language-groovy"><code>android <span class="token punctuation">{</span>
    sourceSets <span class="token punctuation">{</span>
        main<span class="token punctuation">.</span>jniLibs<span class="token punctuation">.</span>srcDirs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'libs'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>点击 Sync，同步配置。</li></ul> <p><img src="https://bugly.qq.com/docs/img/android/1003.png?v=20200622202242" alt="img"></p> <p>为了使 APP Crash 堆栈的可读性更高，建议您配置符号表文件，更准确地定位问题：</p> <ul><li>纯 Java 代码的工程：只需要配置混淆后生成的 Mapping 文件即可；</li> <li>含有 Native 代码的工程：建议配置符号表工具从 Debug SO 中提取的 Symbol 符号表文件。</li></ul> <p>Bugly 支持手动和自动配置两种方式，具体的配置方法请参考：《<a href="https://bugly.qq.com/docs/user-guide/symbol-configuration-android/" target="_blank" rel="noopener noreferrer">Bugly Android 符号表配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>》</p> <h2 id="参数配置"><a href="#参数配置" class="header-anchor">#</a> 参数配置</h2> <ul><li>在 AndroidManifest.xml 中添加权限：</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.READ_PHONE_STATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.INTERNET<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.ACCESS_NETWORK_STATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.ACCESS_WIFI_STATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.READ_LOGS<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>注：如果您的 App 需要上传到<code>google play store</code>，您需要将<code>READ_PHONE_STATE</code>权限屏蔽掉或者移除，否则可能会被下架。</p> <ul><li>请避免混淆 Bugly，在 Proguard 混淆文件中增加以下配置：</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>-dontwarn com.tencent.bugly.**
-keep public class com.tencent.bugly.**{*;}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="最简单的初始化"><a href="#最简单的初始化" class="header-anchor">#</a> 最简单的初始化</h2> <p>获取 APP ID 并将以下代码复制到项目 Application 类 onCreate() 中，Bugly 会为自动检测环境并完成配置：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 为了保证运营数据的准确性，建议不要在异步线程初始化Bugly。</span>
<span class="token class-name">CrashReport</span><span class="token punctuation">.</span><span class="token function">initCrashReport</span><span class="token punctuation">(</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;注册时申请的APPID&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>第三个参数为 SDK 调试模式开关，调试模式的行为特性如下：</p> <ul><li>输出详细的 Bugly SDK 的 Log；</li> <li>每一条 Crash 都会被立即上报；</li> <li>自定义日志将会在 Logcat 中输出。</li></ul> <p>建议在测试阶段建议设置成 true，发布时设置为 false。</p> <p><img src="https://bugly.qq.com/docs/img/android/1006.png?v=20200622202242" alt="img"></p> <p><strong>此外，Bugly2.0 及以上版本还支持通过 “AndroidManifest.xml” 来配置 APP 信息。如果同时又通过代码中配置了 APP 信息，则最终以代码配置的信息为准。</strong></p> <p>在 “AndroidManifest.xml” 的“Application”中增加 “meta-data” 配置项：</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span>
    <span class="token attr-name">&lt;!--</span> <span class="token attr-name">配置APP</span> <span class="token attr-name">ID</span> <span class="token attr-name">--</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>
            <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BUGLY_APPID<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;APP_ID&gt;<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 配置APP版本号 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>
            <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BUGLY_APP_VERSION<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;APP_Version&gt;<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 配置APP渠道号 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>
            <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BUGLY_APP_CHANNEL<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;APP_Channel&gt;<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 配置Bugly调试模式（true或者false）--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>
            <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BUGLY_ENABLE_DEBUG<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;isDebug&gt;<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>不同于“android:versionName”，“BUGLY_APP_VERSION”配置的是Bugly平台的APP版本号。</p> <p>通过 “AndroidManifest.xml” 配置后的初始化方法如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">CrashReport</span><span class="token punctuation">.</span><span class="token function">initCrashReport</span><span class="token punctuation">(</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Bugly 默认从 “AndroidManifest.xml” 文件中读取 “VersionName” 作为版本号，自定义设置请使用参考“<a href="https://bugly.qq.com/docs/user-guide/advance-features-android/" target="_blank" rel="noopener noreferrer">高级设置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>”。</p> <h2 id="multidex-注意事项"><a href="#multidex-注意事项" class="header-anchor">#</a> MultiDex 注意事项</h2> <p>如果使用了 MultiDex，建议通过 Gradle 的 “<code>multiDexKeepFile</code>” 配置等方式把 Bugly 的类放到主 Dex，另外建议在<code>Application</code>类的 &quot;<code>attachBaseContext</code>&quot; 方法中主动加载非主 dex：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApplication</span> <span class="token keyword">extends</span> <span class="token class-name">SomeOtherApplication</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">attachBaseContext</span><span class="token punctuation">(</span><span class="token class-name">Context</span> base<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">attachBaseContext</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">Multidex</span><span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="增加上报进程控制"><a href="#增加上报进程控制" class="header-anchor">#</a> 增加上报进程控制</h2> <p>如果 App 使用了多进程且各个进程都会初始化 Bugly（例如在 Application 类 onCreate() 中初始化 Bugly），那么每个进程下的 Bugly 都会进行数据上报，造成不必要的资源浪费。</p> <p>因此，为了节省流量、内存等资源，建议初始化的时候对上报进程进行控制，只在主进程下上报数据：判断是否是主进程（通过进程名是否为包名来判断），并在初始化 Bugly 时增加一个上报进程的策略配置。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Context</span> context <span class="token operator">=</span> <span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取当前包名</span>
<span class="token class-name">String</span> packageName <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取当前进程名</span>
<span class="token class-name">String</span> processName <span class="token operator">=</span> <span class="token function">getProcessName</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span>Process</span><span class="token punctuation">.</span><span class="token function">myPid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置是否为上报进程</span>
<span class="token class-name">UserStrategy</span> strategy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserStrategy</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
strategy<span class="token punctuation">.</span><span class="token function">setUploadProcess</span><span class="token punctuation">(</span>processName <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> processName<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>packageName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 初始化Bugly</span>
<span class="token class-name">CrashReport</span><span class="token punctuation">.</span><span class="token function">initCrashReport</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token string">&quot;注册时申请的APPID&quot;</span><span class="token punctuation">,</span> isDebug<span class="token punctuation">,</span> strategy<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 如果通过“AndroidManifest.xml”来配置APP信息，初始化方法如下</span>
<span class="token comment">// CrashReport.initCrashReport(context, strategy);</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>其中获取进程名的方法 “getProcessName” 有多种实现方法，推荐方法如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 获取进程号对应的进程名
 * 
 * @param pid 进程号
 * @return 进程名
 */</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getProcessName</span><span class="token punctuation">(</span><span class="token keyword">int</span> pid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BufferedReader</span> reader <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;/proc/&quot;</span> <span class="token operator">+</span> pid <span class="token operator">+</span> <span class="token string">&quot;/cmdline&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> processName <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>processName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            processName <span class="token operator">=</span> processName<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> processName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        throwable<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>reader <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                reader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> exception<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            exception<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="测试"><a href="#测试" class="header-anchor">#</a> 测试</h2> <p>现在您可以制造一个 Crash（建议通过 “按键” 来触发），来体验 Bugly 的能力了。在初始化 Bugly 的之后，调用 Bugly 测 Java Crash 接口。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">CrashReport</span><span class="token punctuation">.</span><span class="token function">testJavaCrash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>执行到这段代码时会发生一个 Crash，Logcat 的 TAG=CrashReportInfo 中输出为：</p> <p><img src="https://bugly.qq.com/docs/img/android/1005.jpg?v=20200622202242" alt="img"></p> <p>现在您已经可以在 <strong>“崩溃”</strong> 页面看到刚才触发的 Crash issue 了（延迟一般在 10s 以内）。</p> <p>如果项目包含了 Native 工程或者使用了代码混淆，建议配置符号表文件，具体请参考 “<a href="/docs/nav.third-party/nav.bugly/bugly-introduction/03-symbol-configuration.html">符号表配置</a>”</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/third-party/bugly/bugly-introduction/" class="prev router-link-active">
        功能简介
      </a></span> <span class="next"><a href="/docs/third-party/bugly/bugly-introduction/advance-features.html">
        高级配置
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.1dda1ef8.js" defer></script><script src="/docs/assets/js/2.1637da50.js" defer></script><script src="/docs/assets/js/24.9fd2bb95.js" defer></script>
  </body>
</html>
